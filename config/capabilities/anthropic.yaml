# Anthropic Provider Capabilities (Metadata)
#
# This file provides MODEL METADATA for UX, pricing calculations, and informational purposes.
# It does NOT enforce validation - Anthropic's API is the source of truth.
#
# This data may become outdated as Anthropic releases new models/features.
# Library users can override these capabilities by calling LoadCapabilitiesFromFile()
# or RegisterProviderCapabilities() with updated data.
#
# Use cases:
#  - Display model limits/features in UI
#  - Calculate pricing estimates
#  - Show tool availability
#  - Provide warnings (not errors)

version: "1.1.0"
last_updated: "2025-02-15"
provider: anthropic

# YAML anchors for DRY config
tool_definitions:
  web_search: &web_search
    name: search
    native_support: true
    execution_side: server
    pricing_per_1k_requests: 10.0
    description: "Anthropic's web search tool (costs $10 per 1,000 searches)"

  text_editor: &text_editor
    name: text_editor
    native_support: true
    execution_side: client
    pricing_per_1k_requests: 0.0
    description: "Anthropic's text editor tool (client-side execution)"

  custom_tools: &custom_tools
    name: custom
    native_support: true
    execution_side: client
    pricing_per_1k_requests: 0.0
    description: "Custom function calling (client-side execution)"

# Feature support anchors
features:
  full_features: &full_features
    vision: true
    tools: true
    thinking: true
    streaming: true

  standard_features: &standard_features
    vision: true
    tools: true
    thinking: false
    streaming: true

# Thinking configuration anchors
thinking:
  extended_thinking: &extended_thinking
    min_budget: 1024
    max_budget: 200000
    effort_to_budget:
      low: 2000
      medium: 5000
      high: 12000

  no_thinking: &no_thinking
    min_budget: 0
    max_budget: 0

# Pricing anchors (Feb 2025 rates)
pricing:
  sonnet_45_pricing: &sonnet_45_pricing
    input_per_1m: 3.00
    output_per_1m: 15.00
    cache_write_per_1m: 3.75
    cache_read_per_1m: 0.30

  haiku_45_pricing: &haiku_45_pricing
    input_per_1m: 1.00
    output_per_1m: 5.00
    cache_write_per_1m: 1.25
    cache_read_per_1m: 0.10

  opus_41_pricing: &opus_41_pricing
    input_per_1m: 15.00
    output_per_1m: 75.00
    cache_write_per_1m: 18.75
    cache_read_per_1m: 1.50

# Models (Feb 2025)
models:
  # Claude 4.5 family (latest)
  claude-sonnet-4-5:
    context_window: 200000
    max_output_tokens: 64000
    features: *full_features
    thinking: *extended_thinking
    pricing: *sonnet_45_pricing
    tools:
      - *web_search
      - *text_editor
      - *custom_tools

  claude-haiku-4-5:
    context_window: 200000
    max_output_tokens: 64000
    features: *full_features
    thinking: *extended_thinking
    pricing: *haiku_45_pricing
    tools:
      - *web_search
      - *text_editor
      - *custom_tools

  claude-opus-4-1:
    context_window: 200000
    max_output_tokens: 32000
    features: *full_features
    thinking: *extended_thinking
    pricing: *opus_41_pricing
    tools:
      - *web_search
      - *text_editor
      - *custom_tools

  # Claude 3.7 (legacy - good for writing)
  claude-3-7-sonnet:
    context_window: 200000
    max_output_tokens: 64000
    features: *full_features
    thinking: *extended_thinking
    pricing: *sonnet_45_pricing
    tools:
      - *web_search
      - *text_editor
      - *custom_tools

# General provider constraints
constraints:
  temperature_min: 0.0
  temperature_max: 1.0
  top_p_min: 0.0
  top_p_max: 1.0
  top_k_min: 1
  top_k_max: 500
